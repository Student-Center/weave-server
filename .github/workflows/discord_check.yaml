name: Check Discord Noti
on:
  push:
    branches:
      - main
  pull_request:
    types: [ opened, synchronize, reopened ]
jobs:
  discord_noti:
    runs-on: ubuntu-latest
    steps:
      - name: Send discord notification
        uses: appleboy/discord-action@master
        with:
          webhook_id: ${{ secrets.DEVELOP_SERVER_RELEASE_DISCORD_NOTI_ID }}
          webhook_token: ${{ secrets.DEVELOP_SERVER_RELEASE_DISCORD_NOTI_TOKEN_SECRET }}
          message: """
            🛰️Server has been deployed (Develop Server)
            
            🛢️Repository  : ${{ github.repository }}
            🎋Branch      : ${{ github.ref }}
            🔁Run Attempt : ${{ github.run_attempt }}
            🤗Actor       : ${{ github.triggering_actor }}
          """
